import{u as N,j as s}from"./index-R3ImrpZD.js";import{a as v,r as t,L as w}from"./router-DT357BBx.js";import"./vendor-gH-7aFTg.js";import"./icons-BKGQ83OH.js";const D=()=>{const m=v(),{signin:g}=N(),[i,x]=t.useState({email:"",password:""}),[e,d]=t.useState({}),[u,p]=t.useState(!1),[l,o]=t.useState(""),h=a=>{const{name:r,value:n}=a.target;x(c=>({...c,[r]:n})),e[r]&&d(c=>({...c,[r]:""}))},f=()=>{const a={};return i.email.trim()||(a.email="Email is required"),i.password||(a.password="Password is required"),a},j=async a=>{a.preventDefault();const r=f();if(Object.keys(r).length>0){d(r);return}p(!0),o("");const n=await g(i);p(!1),n.success?(o("Login successful! Redirecting..."),setTimeout(()=>{n.user.role==="admin"?m("/admin/dashboard"):m("/")},1500)):o(n.message)};return s.jsx("div",{className:"signin-page",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"signin-content",children:s.jsx("div",{className:"card",style:{maxWidth:"500px",margin:"3rem auto"},children:s.jsxs("div",{className:"card-content",children:[s.jsx("h1",{className:"text-center mb-4",children:"Welcome Back"}),l&&s.jsx("div",{className:`message ${l.includes("successful")?"success":"error"}`,children:l}),s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:h,className:`form-input ${e.email?"error":""}`,placeholder:"Enter your email"}),e.email&&s.jsx("span",{className:"error-message",children:e.email})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Password *"}),s.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:h,className:`form-input ${e.password?"error":""}`,placeholder:"Enter your password"}),e.password&&s.jsx("span",{className:"error-message",children:e.password})]}),s.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:u,children:u?"Signing In...":"Sign In"})]}),s.jsxs("p",{className:"text-center",style:{marginTop:"1.5rem"},children:["Don't have an account? ",s.jsx(w,{to:"/signup",style:{color:"#3b82f6",fontWeight:"600"},children:"Sign Up"})]})]})})})})})};export{D as default};
//# sourceMappingURL=SignIn-CZRrYsui.js.map
